{"ast":null,"code":"var _jsxFileName = \"/Users/Raf/Desktop/Brainstation/2_Projects/rafay-brainflix/Client/src/Components/Home/Home.js\";\nimport React, { Component } from 'react';\nimport './Home.scss';\nimport Header from './../Header/header.jsx';\nimport Video from './Video/video.jsx';\nimport Comments from './Comments/comments.jsx';\nimport Suggestions from './Suggestions/suggestions.jsx';\nimport axios from 'axios';\nimport Axios from 'axios';\nconst keyAffix = '?api_key=94f19a78-ed3b-4723-9773-164ca4dffeee';\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getMainVideo = id => {\n      axios.get(`http://localhost:8080/videos/${id}`).then(res => {\n        this.setState({\n          mainvideo: res.data,\n          comments: res.data.comments\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.sendComment = (id, comment) => {\n      Axios.post(`https://project-2-api.herokuapp.com/videos/${id}/comments/${keyAffix}`, comment).then(this.getMainVideo(id));\n    };\n\n    this.commenting = event => {\n      event.preventDefault();\n      let id = this.state.mainvideo.id;\n      let comment = {\n        name: \"Rafay\",\n        comment: event.target.comment.value\n      };\n      this.sendComment(id, comment);\n      event.target.reset();\n    };\n\n    this.state = {\n      mainvideo: [],\n      comments: []\n    };\n  }\n\n  componentDidMount() {\n    this.getMainVideo(\"1af0jruup5gu\");\n  }\n\n  componentDidUpdate() {\n    if (this.state.mainvideo.id !== this.props.match.params.videoid && this.props.match.params.videoid) {\n      this.getMainVideo(this.props.match.params.videoid);\n    }\n  }\n\n  render() {\n    console.log(this.props);\n    return React.createElement(\"div\", {\n      className: \"Home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }), React.createElement(Video, {\n      mainVideoProp: this.state.mainvideo,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }), React.createElement(Comments, {\n      commentsProp: this.state.comments,\n      submitProp: this.commenting,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }), React.createElement(Suggestions, {\n      match: this.props.match,\n      mainVids: this.state.mainvideo,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["/Users/Raf/Desktop/Brainstation/2_Projects/rafay-brainflix/Client/src/Components/Home/Home.js"],"names":["React","Component","Header","Video","Comments","Suggestions","axios","Axios","keyAffix","Home","constructor","props","getMainVideo","id","get","then","res","setState","mainvideo","data","comments","catch","err","console","log","sendComment","comment","post","commenting","event","preventDefault","state","name","target","value","reset","componentDidMount","componentDidUpdate","match","params","videoid","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport './Home.scss';\nimport Header from './../Header/header.jsx';\nimport Video from './Video/video.jsx';\nimport Comments from './Comments/comments.jsx';\nimport Suggestions from './Suggestions/suggestions.jsx';\nimport axios from 'axios';\nimport Axios from 'axios';\n\nconst keyAffix = '?api_key=94f19a78-ed3b-4723-9773-164ca4dffeee';\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      mainvideo: [],\n      comments: [],\n    }\n  }\n\n  getMainVideo = id => {\n    axios.get(`http://localhost:8080/videos/${id}`)\n      .then(res => {\n        this.setState({\n          mainvideo: res.data,\n          comments: res.data.comments,\n        })\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  componentDidMount() {\n    this.getMainVideo(\"1af0jruup5gu\");\n  }\n\n  componentDidUpdate() {\n\n    if (\n      this.state.mainvideo.id !== this.props.match.params.videoid &&\n      this.props.match.params.videoid\n    ) {\n      this.getMainVideo(this.props.match.params.videoid);\n    }\n  }\n\n  sendComment = (id, comment) => {\n    Axios.post(\n      `https://project-2-api.herokuapp.com/videos/${id}/comments/${keyAffix}`, comment)\n      .then(this.getMainVideo(id));\n  }\n\n  commenting = event => {\n    event.preventDefault();\n    let id = this.state.mainvideo.id;\n    let comment = {\n      name: \"Rafay\",\n      comment: event.target.comment.value\n    }\n    this.sendComment(id, comment);\n    event.target.reset()\n  }\n\n  render() {\n    console.log(this.props)\n    return (\n      <div className=\"Home\">\n        <Header />\n        <Video\n          mainVideoProp={this.state.mainvideo}\n        />\n        <Comments\n          commentsProp={this.state.comments}\n          submitProp={this.commenting}\n        />\n        <Suggestions\n          match={this.props.match}\n          mainVids={this.state.mainvideo}\n        />\n      </div>\n    )\n  }\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}